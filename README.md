# Отчёт по проекту по дисциплине «Реактивная Java»

**Тема:** Разработка реактивного приложения для приёма абитуриентов  
**Студент:** Королёв Денис Владимирович  
**Группа:** P4115  
**Номер студента:** 333165  
**Университет:** ИТМО  
**Дата выполнения:** 12.01.2026
**GitHub:** https://github.com/KorlevDenS/ReactiveAdmissionSystem

---

## 1. Цель проекта

Цель проекта — разработать полнофункциональное клиент‑серверное приложение для автоматизации процессов приёма абитуриентов, построенное на принципах реактивного программирования. Приложение должно обеспечивать неблокирующую обработку данных, высокую отзывчивость интерфейса и возможность масштабирования.

---

## 2. Постановка задачи

В рамках дисциплины требовалось разработать приложение на основе **RxJava** или **Project Reactor**.  
В проекте выбран стек **Spring WebFlux + Project Reactor** для бэкенда и **React + RxJS** для фронтенда.

**Предметная область:** приём абитуриентов.

Основные требования:
- использование реактивного подхода;
- неблокирующие вызовы на всех этапах обработки данных;
- наличие графического интерфейса;
- возможность обработки данных в реальном времени.

---

## 3. Функциональные требования

### 3.1. Основные функции

- **Форма подачи документов**  
  Возможность отправить заявку на поступление в выбранную образовательную программу.

- **Реактивный поиск образовательных программ**  
  Поиск обновляется по мере ввода текста, без блокировок.

- **Просмотр рейтинга абитуриентов**  
  Для каждой образовательной программы отображается динамически обновляемый рейтинг.

- **Просмотр статистики**  
  Включает:
    - общее количество абитуриентов;
    - распределение заявлений по образовательным программам;
    - распределение по вступительным испытаниям;
    - средний балл по всем абитуриентам;
    - средний балл по каждому вступительному испытанию.

---

## 4. Нефункциональные требования

### 4.1. Производительность
- Неблокирующая обработка всех операций ввода‑вывода.
- Возможность обработки большого количества параллельных запросов.

### 4.2. Масштабируемость
- Возможность горизонтального масштабирования.
- Использование R2DBC для асинхронной работы с БД.

### 4.3. Надёжность
- Централизованная реактивная обработка ошибок.
- Корректное завершение или восстановление потоков данных.

### 4.4. Удобство использования
- Отзывчивый интерфейс.
- Обновление данных без перезагрузки страницы.

### 4.5. Технологическая совместимость
- Современный стек: Spring WebFlux, PostgreSQL R2DBC, React, RxJS.

---

## 5. Архитектура проекта

Проект состоит из двух основных частей:

### 5.1. Бэкенд
- Spring Boot + WebFlux
- Project Reactor
- PostgreSQL + R2DBC
- REST API
- Реактивные стримы (Flux)
- Сервисная архитектура

### 5.2. Фронтенд
- React (TypeScript)
- RxJS
- Компонентная архитектура
- Подписка на стримы статистики

### 5.3 Схема


                ┌──────────────────────────────────────┐ 
                │             SERVER                   │ 
    ┌──────┐    │ ┌───────────┐  ┌───────┐  ┌────────┐ │
    │      │    │ │           │  │       │  │        │ │
    │      │    │ │           │  │       │  │Reactive│ │
    │      │    │ │           │  │       │  │ CRUD   │ │
    │Сlient├────│►│Controllers├─►│Service├─►│ Repo   │ │
    │      │    │ │           │  │       │  │        │ │
    │      │    │ │           │  │       │  │        │ │
    │      │    │ │           │  │       │  │        │ │
    └──────┘    │ └───────────┘  └───────┘  └───┬────┘ │
                └───────────────────────────────┼──────┘
                                          ┌─────▼────┐   
                                          │PostrgeSQL│   
                                          └──────────┘


---

## 6. Реализация реактивного подхода

### 6.1. Использование Project Reactor

В бэкенде используются:
- `Mono<T>` — одиночные значения,
- `Flux<T>` — потоки данных,
- `Sinks.Many<T>` — push‑уведомления,
- `Mono.zip()` — параллельная агрегация данных.

### 6.2. Пример: сбор статистики

```java
public Mono<StatsResponse> collectStats() {

    Mono<Long> totalApplicants = applicantRepository.count();

    Mono<Map<String, Long>> applicationsByProgram = countByProgramGrouped();

    Mono<Map<String, Long>> applicationsByEntranceTest = countByEntranceTestGrouped();

    Mono<Double> averageScoreOverall = averageScoreOverall();

    Mono<Map<String, Double>> averageScoreByEntranceTest = averageScoreByEntranceTestGrouped();

    return Mono.zip(
            totalApplicants,
            applicationsByProgram,
            applicationsByEntranceTest,
            averageScoreOverall,
            averageScoreByEntranceTest
    ).map(tuple -> new StatsResponse(
            tuple.getT1(),
            tuple.getT2(),
            tuple.getT3(),
            tuple.getT4(),
            tuple.getT5()
    ));
}
```
# 7. Реализация стриминга статистики

Для отправки обновлений клиентам используется Sinks.Many<StatsResponse>:

```java
private final Sinks.Many<StatsResponse> sink = Sinks.many().replay().latest();
```

## Компонент StatsSink:

```java
@PostConstruct
public void init() {
statsService.collectStats()
.subscribe(this::emit);
}

public Flux<StatsResponse> stream() {
return sink.asFlux();
}
```

## Компонент StatsUpdater:

```java
public void updateStats() {
statsService.collectStats().subscribe(statsSink::emit);
}
```


Любое изменение данных приводит к мгновенному обновлению статистики на фронтенде.

# 8. Фронтенд: использование RxJS

На стороне клиента:

- RxJS используется для подписки на поток статистики,
- обновления отображаются без перезагрузки страницы,
- поиск образовательных программ реализован через debounceTime, switchMap, distinctUntilChanged.

# 9. База данных

Используется PostgreSQL с драйвером R2DBC, обеспечивающим:

- отсутствие блокировок при запросах,
- асинхронную обработку данных,
- высокую производительность при большом количестве соединений.

# 10. Результаты работы

Разработано:

- реактивное серверное приложение на Spring WebFlux;
- клиентское приложение на React + RxJS;
- модуль статистики с push‑уведомлениями;
- форма подачи документов;
- модуль рейтингов абитуриентов;
- реактивный поиск образовательных программ.

Приложение соответствует требованиям дисциплины и демонстрирует преимущества реактивного подхода.

# 11. Заключение

Использование реактивной архитектуры позволило:

- повысить отзывчивость приложения,
- эффективно обрабатывать параллельные запросы,
- реализовать потоки данных в реальном времени,
- обеспечить современный пользовательский опыт.

Стек технологий (Spring WebFlux, Project Reactor, R2DBC, React, RxJS) позволил создать масштабируемое и производительное приложение для автоматизации процессов приёма абитуриентов.

# 12. Использованные технологии

| Компонент   | Технологии                                                      |
|-------------|-----------------------------------------------------------------|
| Бэкенд      | Spring Boot, Spring WebFlux, Project Reactor, PostgreSQL, R2DBC |
| Фронтенд    | React, TypeScript, RxJS                                         |
| Архитектура | REST API, реактивные стримы, сервисная архитектура              |



